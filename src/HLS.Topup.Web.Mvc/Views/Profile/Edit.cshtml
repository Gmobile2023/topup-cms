@model HLS.Topup.Authorization.Accounts.Dto.CreateOrEditAgentModalViewModel

@{
    Layout = $"~/Views/Layout/_LayoutGmobile.cshtml";
    ViewBag.Title = "Chỉnh sửa thông tin tài khoản";
}

@{
    ViewBag.CurrentPageName = FrontEndPageNames.Profile_Edit;
    ViewBag.PageTitle = "Sửa thông tin tài khoản";
    ViewBag.ImageTitle = "/themes/topup/images/ic_banner_top/profile-white.svg";
    ViewBag.Breadcrumbs = new List<(string Text, string Url)>
    {
        ("Thông tin cá nhân", Url.Action("", "")),
        ("Sửa thông tin tài khoản", Url.Action("", "")),
    };
}
@await Html.PartialAsync("~/Views/Layout/Shared/_SubHeaderPartial.cshtml")

@section Scripts
{
    <script abp-src="/view-resources/Views/Profile/Edit.js" asp-append-version="true"></script>
}

<div class="d-flex flex-column-fluid">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="card card-custom card-stretch gutter-b">
                    <div class="card-header border-0">
                        <h3 class="card-title font-weight-bolder text-dark">Chỉnh sửa thông tin tài khoản</h3>
                    </div>
                    <div class="card-body pt-0">
                        <div id="Profile_Edit_Page" class="section-body-middle">
                            <form style="display: none" id="profileAvatar">
                                <input type="file" name="avatar" accept="image/*"/>
                            </form>
                            <form class="step step1" id="profileForm">
                                <div class="section-body-middle-form-p1 no-border-top">
                                    <div class="form-group ">
                                        <label for="" class="title">Mã tài khoản </label>
                                        <div class="form-group-wrap">
                                            <input tabindex="4" required="required" placeholder="Loại tài khoản" class="form-control"
                                                   type="text" name="accountCode" value="@Model.User.AccountCode" readonly="readonly">
                                            <input tabindex="1"
                                                   type="hidden" name="userName" value="@Model.User.UserName">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group ">
                                                <label for="" class="title"> Họ <span class="text-danger">(*)</span></label>
                                                <div class="form-group-wrap">
                                                    <input tabindex="1" required="required" placeholder="Nhập họ" class="form-control"
                                                           type="text" name="surname" value="@Model.User.Surname" maxlength="32">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group ">
                                                <label for="" class="title"> Tên <span class="text-danger">(*)</span></label>
                                                <div class="form-group-wrap">
                                                    <input tabindex="2" required="required" placeholder="Nhập tên" class="form-control"
                                                           type="text" name="name" value="@Model.User.Name" maxlength="32">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group ">
                                                <label for="" class="title"> Loại tài khoản &nbsp; </label>
                                                <div class="form-group-wrap">
                                                    <input tabindex="4" required="required" placeholder="Loại tài khoản" class="form-control"
                                                           type="text" name="accountText" value="@L("Enum_AccountType_" + Model.User.AccountType)" readonly="readonly">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group ">
                                                <label for="" class="title"> Số điện thoại &nbsp; </label>
                                                <div class="form-group-wrap">
                                                    <input required="required" placeholder="Số điện thoại" class="form-control"
                                                           type="text" name="phoneNumber" value="@Model.User.PhoneNumber" readonly="readonly" maxlength="15">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    @if (Model.User.AccountType != (byte)CommonConst.SystemAccountType.Staff && Model.User.AccountType != (byte)CommonConst.SystemAccountType.StaffApi)
                                    {
                                    <div class="mb-5">
                                        <label for="" class="title"> <strong>@(Model.User.IsVerifyAccount ? "Tài khoản đã xác thực thông tin" : "Tài khoản chưa xác thực thông tin")</strong> &nbsp; </label>
                                        <a class="action_verify" href="javascript:void(0)" onclick="ctrl.showVerifyAccount()">@(Model.User.IsVerifyAccount ? "Xem thông tin xác thực." : "Xác thực ngay.")</a>
                                    </div>

                                    <div id="blockVerify" style="display: none">
                                        @await Html.PartialAsync("_Verify", Model)
                                    </div>
                                    }
                                </div>
                                <div class="section-body-middle-form-p2">
                                    <div class="row">
                                        <div tabindex="7" class="col-md-12 text-right">
                                            <button type="button" onclick="ctrl.back()" class="btn btn-secondary mr-2">Quay lại</button>
                                            <button type="button" onClick="ctrl.nextToStep()" class="btn btn-primary">Xác nhận</button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>